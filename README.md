# Game-2048_Linux

项目名: 2048_Linux

开发人员: PengJL

项目说明: 本项目是在Linux开发板上复刻2048这款经典的游戏

软件开发平台: VSCode for Linux, Ubuntu20.04

硬件平台: 基于 S5P6818 ARM Contex-A53 CPU的Linux开发板

## 目录结构:

image: 图像资源存放目录

inc: 第三方库的头文件

libs: 第三方库的动态链接库文件

mp3: 音频资源文件

src: 软件相关源码以及Makefile目录

## 软件框架:

mp3_play_thread: 背景音乐播放线程

    调用madplay程序播放指定的背景音乐

listen_touch_thread: 触摸屏事件监听线程

    不断获取屏幕触摸坐标，然后通过按下和离开的坐标判断触摸事件种类，并将其传入全局变量

game_logic_thread: 游戏逻辑主处理线程

    从全局变量中获取触摸事件和触摸坐标，然后根据游戏规则处理存放2048游戏数据的matrix矩阵，每次处理完后，再将对应数据刷到matrix_view矩阵中，并将改变的数据刷到显示器上，在一定程度上能降低刷新屏幕所消耗的资源。在此遍历矩阵过程中如果发现出现2048就清空游戏数据，再调用jpeg开源库的函数将游戏胜利的jpg图片刷到显示器上。

## 使用方法:

src目录下有Makefile，可以将里面配置成你们自己的交叉编译器，使用make后就会生成一个2048_Linux的可执行文件，将其传入开发板就可以运行，同时注意需要将mp3、jpg等媒体资源与放在执行文件的目录下或子目录下，libs目录下游戏运行所需要的动态链接库也需要拷贝到/usr/lib目录下，或者将libs所在的目录配置到环境变量中。
